<section id="lottie-wrapper">
    <lottie-player 
        id="bike-jump"
        src="./assets/bike-jump.json" 
        background="transparent" 
        mode="normal">
    </lottie-player>

    <div class="py-56 bg-black">
        <h2 class="heading text-howler-orange text-center pb-4">Deals of The Week</h2>
        <div class="pt-6 pb-48">
            <div id="deal-of-week-slider">
                <div class="swiper-wrapper">
                    {% for product in section.settings.weekly-deals.products %}
                        <div class="swiper-slide text-white p-6" style="background:linear-gradient(180deg, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0.8) 100%), url('{{product.featured_image | img_url: '426x572' }}') no-repeat center center / cover">
                            <div class="mt-56">
                                <div class="raleway font-bold text-2xl pb-2">{{product.title}}</div>
                                <div class="montserrat font-bold pb-3">
                                    <span class="textl-xl">{{product.price_max | money}}</span>
                                    <span class="text-howler-orange textl-xl pl-2">{{product.compare_at_price_max | money}}</span>
                                </div>
                                <button class="btn edo bg-white text-black">
                                    Shop Now
                                    <span class="ml-3">
                                        <svg width="7" height="14" viewBox="0 0 7 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <path d="M6.81434 7.52868L1.68093 13.5816C1.43335 13.8735 1.03196 13.8735 0.784406 13.5816L0.185678 12.8756C-0.0614783 12.5842 -0.0619537 12.1119 0.184622 11.8198L4.25294 7.00011L0.184622 2.18049C-0.0619537 1.88838 -0.0614783 1.41606 0.185678 1.12463L0.784406 0.418652C1.03198 0.126725 1.43337 0.126725 1.68093 0.418652L6.81431 6.47157C7.06189 6.76346 7.06189 7.23675 6.81434 7.52868Z" fill="#FF7F40"></path>
                                        </svg>
                                    </span>
                                </button>
                            </div>
                        </div>
                    {% endfor %}
                </div>
            </div>
        </div>
    </div>
</section>

<svg class="relative -top-80" width="auto" height="429" viewBox="0 0 100% 429" fill="none" xmlns="http://www.w3.org/2000/svg">
    <g clip-path="url(#clip0_882_26366)">
        <path d="M0.0999756 150.7H641.9C685 150.7 727.9 157.7 768.8 171.3L1824.5 428.5H1220.2H0.0999756V150.7Z" fill="white"/>
        <path d="M335.2 78.6L306.7 172.4H363.7L335.2 78.6Z" fill="white"/>
        <path d="M374.7 95.2L346.2 188.9H403.2L374.7 95.2Z" fill="white"/>
        <path d="M517 66.8L488.5 160.6H545.5L517 66.8Z" fill="white"/>
        <path d="M401.4 97.9L372.9 191.7H429.9L401.4 97.9Z" fill="white"/>
        <path d="M84.9 168.8C94.7859 168.8 102.8 160.786 102.8 150.9C102.8 141.014 94.7859 133 84.9 133C75.0141 133 67 141.014 67 150.9C67 160.786 75.0141 168.8 84.9 168.8Z" fill="white"/>
        <path d="M120.8 168.8C130.686 168.8 138.7 160.786 138.7 150.9C138.7 141.014 130.686 133 120.8 133C110.914 133 102.9 141.014 102.9 150.9C102.9 160.786 110.914 168.8 120.8 168.8Z" fill="white"/>
        <path d="M156.7 168.8C166.586 168.8 174.6 160.786 174.6 150.9C174.6 141.014 166.586 133 156.7 133C146.814 133 138.8 141.014 138.8 150.9C138.8 160.786 146.814 168.8 156.7 168.8Z" fill="white"/>
        <path d="M929.5 234.7C935.133 234.7 939.7 230.133 939.7 224.5C939.7 218.867 935.133 214.3 929.5 214.3C923.867 214.3 919.3 218.867 919.3 224.5C919.3 230.133 923.867 234.7 929.5 234.7Z" fill="white"/>
        <path d="M949.6 238.1C955.233 238.1 959.8 233.533 959.8 227.9C959.8 222.267 955.233 217.7 949.6 217.7C943.967 217.7 939.4 222.267 939.4 227.9C939.4 233.533 943.967 238.1 949.6 238.1Z" fill="white"/>
        <path d="M206 73.7L186.5 137.9H225.6L206 73.7Z" fill="white"/>
        <path d="M209.2 132.9H203.5V170.1H209.2V132.9Z" fill="white"/>
        <path d="M994.3 185.5L979.3 234.9H1009.4L994.3 185.5Z" fill="white"/>
        <path d="M996.8 231H992.4V259.6H996.8V231Z" fill="white"/>
        <path d="M884.3 217L865.3 154.4L850.1 204.2L884.3 217Z" fill="white"/>
        <path d="M858.6 206.9L839.5 144.3L824.4 194.1L858.6 206.9Z" fill="white"/>
        <path d="M833.7 197.7L814.7 135.1L799.6 184.9L833.7 197.7Z" fill="white"/>
    </g>
    <defs>
        <clipPath id="clip0_882_26366">
            <rect width="1440" height="428.5" fill="white"/>
        </clipPath>
    </defs>
</svg>
<script defer="true">
    //Init the slider
    new Swiper('#deal-of-week-slider', {
        loop: true,
        slidesPerView: 3,
        spaceBetween: 30
    });

    //Setup animation
    document.addEventListener("DOMContentLoaded", function() {
        LottieInteractivity.create({
            player: '#bike-jump',
            mode: 'scroll',
            container:"#lottie-wrapper",
            actions: [
                {
                    visibility:[0, 0.3],
                    type: "stop",
                    frames: [50]
                },
                {
                    visibility: [0.3,1],
                    type: 'seek',
                    frames: [0, 120],
                },
            ]
        });
    });
</script>

{% schema %}
{
    "name":"Weekly Deals",
    "settings": [
        {
            "type":"collection",
            "id":"weekly-deals",
            "label":"Weekly Deals Collection"
        }
    ]
}
{% endschema %}